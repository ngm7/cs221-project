WASHINGTON — Senator Mitch McConnell of Kentucky reversed course on Tuesday and said that the Senate would vote on a criminal justice bill before the end of the year, stiff-arming some of his hard-line conservatives and teeing up a bipartisan policy achievement that has eluded lawmakers for years.

Advocates of the proposed prison and sentencing law changes on Capitol Hill and in the White House have spent weeks lobbying Mr. McConnell, the majority leader who controls the Senate calendar. Crucially, they had the backing of President Trump, who urged Mr. McConnell in recent days to “go for it Mitch!” — offering cover to conservative lawmakers who were reluctant to roll back some of the tough-on-crime federal policies of the 1980s and ’90s.

Now proponents of the bill, called the First Step Act — a scaled-back version of earlier efforts — believe the changes could receive as many as 85 votes in the Senate. Speaker Paul D. Ryan of Wisconsin, who also privately pressured Mr. McConnell to take up the bill, has pledged swift action before the House leaves town for the year-end holidays.

In exchange for his backing, Mr. Trump is on the cusp of claiming a rare bipartisan legislative achievement, a welcome victory after voters chose to end complete Republican control of Washington. In it, he could find a model for working with Democrats, who assume the House majority in January.