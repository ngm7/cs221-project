By threatening to build a wall, and actually deporting large numbers of Mexicans from the heartland of the United States, Mr. Trump needlessly raised tensions on the border. By pressuring Mexico to intercept Central American refugees and dissuading or prohibiting them from requesting asylum in the United States and by radically slowing down asylum-processing at the border, he contributed to the creation of caravans. And by insisting on the war on drugs, he also accentuated Mexico’s human rights and security crises, mainly created by the previous two Mexican presidents.

Relations came to such a low point that AMLO’s predecessor, Enrique Peña Nieto, didn’t visit Mr. Trump in the United States or meet with him as president in Mexico. This was the first time in the modern history of bilateral relations.

Mr. López Obrador has to deal with this situation, and doing so will not be simple.

He is restricted from the left by his old-style, chip-on-the-shoulder nationalism, his radical base and the perception in Mexico that the outgoing president kowtowed to Washington all too often. He is pressured from the right by politicians concerned with Mexico’s weakening economy (a battered peso and a wilting stock exchange), its integration with the United States and the country’s vulnerability to any type of Trumpian retaliation for perceived or existing sins.

The immigration dilemma will top AMLO’s to-do list. It involves Mexicans in the United States, those still leaving Mexico in large, though smaller, numbers and mainly Central Americans, fleeing from violence and poverty in their countries.

The Honduran caravan held up at Mexico’s northern border is a symptom of this challenge. Mr. López Obrador may accept Washington’s demands for Mexico to act as a de facto safe third country, that is, where those seeking asylum in the United States are indefinitely “parked,” even if they do not wish to remain in Mexico (and Mexico is anything but a safe country for them). Or else, he faces the threat of border closings or Mr. Trump ripping up the U.S.M.C.A., or both.