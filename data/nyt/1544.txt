As the killing set off a firestorm around the world and American intelligence agencies concluded that it was ordered by Prince Mohammed, Mr. Kushner became the prince’s most important defender inside the White House, people familiar with its internal deliberations say.

Mr. Kushner’s support for Prince Mohammed in the moment of crisis is a striking demonstration of a singular bond that has helped draw President Trump into an embrace of Saudi Arabia as one of his most important international allies.

But the ties between Mr. Kushner and Prince Mohammed did not happen on their own. The prince and his advisers, eager to enlist American support for his hawkish policies in the region and for his own consolidation of power, cultivated the relationship with Mr. Kushner for more than two years, according to documents, emails and text messages reviewed by The New York Times.

A delegation of Saudis close to the prince visited the United States as early as the month Mr. Trump was elected, the documents show, and brought back a report identifying Mr. Kushner as a crucial focal point in the courtship of the new administration. He brought to the job scant knowledge about the region, a transactional mind-set and an intense focus on reaching a deal with the Palestinians that met Israel’s demands, the delegation noted.

Even then, before the inauguration, the Saudis were trying to position themselves as essential allies who could help the Trump administration fulfill its campaign pledges. In addition to offering to help resolve the dispute between Israel and the Palestinians, the Saudis offered hundreds of billions of dollars in deals to buy American weapons and invest in American infrastructure. Mr. Trump later announced versions of some of these items with great fanfare when he made his first foreign trip: to an Arab-Islamic summit in Riyadh, the Saudi capital. The Saudis had extended that invitation during the delegation’s November 2016 visit.