New York’s banking regulator ordered Barclays to pay $15 million in penalties after the British bank’s chief executive officer tried to unmask a whistle-blower, the regulator said on Tuesday.

The New York Department of Financial Services said an investigation of Barclays’ chief, James E. Staley uncovered “shortcomings in governance, controls and corporate culture” at the bank. To resolve the matter, Barclays also agreed to strengthen its whistle-blower program, which allows employees to anonymously report problems they see to the bank’s senior leaders.

“All regulatory investigations relating to these events are now concluded,” Barclays announced on Tuesday.

The fine, a relatively small one, is being levied against the bank itself and not against Mr. Staley personally, a sign that the problems he has faced as a result of the episode could be coming to an end. Earlier this year, Mr. Staley was in much deeper trouble: British regulators were contemplating forcing him to step down. In May, they fined him about $1.5 million but decided to let him stay.